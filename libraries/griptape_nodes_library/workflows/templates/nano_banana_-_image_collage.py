# /// script
# dependencies = []
# 
# [tool.griptape-nodes]
# name = "Nano Banana - Image Collage"
# schema_version = "0.14.0"
# engine_version_created_with = "0.66.0"
# node_libraries_referenced = [["Griptape Nodes Library", "0.52.6"]]
# node_types_used = [["Griptape Nodes Library", "EndFlow"], ["Griptape Nodes Library", "GoogleImageGeneration"], ["Griptape Nodes Library", "LoadImage"], ["Griptape Nodes Library", "Note"], ["Griptape Nodes Library", "StartFlow"]]
# is_griptape_provided = true
# creation_date = 2025-12-18T00:56:54.157615Z
# last_modified_date = "2025-12-18T03:53:16.135574Z"
# workflow_shape = "{\"inputs\":{\"Start Flow\":{\"exec_out\":{\"name\":\"exec_out\",\"tooltip\":\"Connection to the next node in the execution chain\",\"type\":\"parametercontroltype\",\"input_types\":[\"parametercontroltype\"],\"output_type\":\"parametercontroltype\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"display_name\":\"Flow Out\"},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"image_url\":{\"name\":\"image_url\",\"tooltip\":\"Enter text/string for image_url.\",\"type\":\"str\",\"input_types\":[\"str\"],\"output_type\":\"str\",\"default_value\":\"https://images.pdimagearchive.org/collections/posed-portraits-of-19th-century-baseball-stars/4051199982_718521f59f_z.jpg?zz=1?width=438&height=800\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"is_custom\":true,\"is_user_added\":true},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null}}},\"outputs\":{\"End Flow\":{\"exec_in\":{\"name\":\"exec_in\",\"tooltip\":\"Control path when the flow completed successfully\",\"type\":\"parametercontroltype\",\"input_types\":[\"parametercontroltype\"],\"output_type\":\"parametercontroltype\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"display_name\":\"Succeeded\"},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"failed\":{\"name\":\"failed\",\"tooltip\":\"Control path when the flow failed\",\"type\":\"parametercontroltype\",\"input_types\":[\"parametercontroltype\"],\"output_type\":\"parametercontroltype\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"display_name\":\"Failed\"},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"was_successful\":{\"name\":\"was_successful\",\"tooltip\":\"Indicates whether it completed without errors.\",\"type\":\"bool\",\"input_types\":[\"bool\"],\"output_type\":\"bool\",\"default_value\":false,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{},\"settable\":false,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"result_details\":{\"name\":\"result_details\",\"tooltip\":\"Details about the operation result\",\"type\":\"str\",\"input_types\":[\"str\"],\"output_type\":\"str\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"multiline\":true,\"placeholder_text\":\"Details about the completion or failure will be shown here.\"},\"settable\":false,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"image\":{\"name\":\"image\",\"tooltip\":\"New parameter\",\"type\":\"ImageUrlArtifact\",\"input_types\":[\"ImageUrlArtifact\"],\"output_type\":\"ImageUrlArtifact\",\"default_value\":\"\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"is_full_width\":true,\"pulse_on_run\":true,\"is_custom\":true,\"is_user_added\":true},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":\"\",\"parent_element_name\":null}}}}"
# description = "Generate an image collage of a vintage character in confusing urban situations with Nano Banana"
# is_template = true
# image = "https://raw.githubusercontent.com/griptape-ai/griptape-nodes/refs/heads/main/libraries/griptape_nodes_library/workflows/templates/thumbnail_nano_banana_-_image_collage.webp"
# 
# ///

import argparse
import asyncio
import json
import pickle
from griptape.artifacts.image_url_artifact import ImageUrlArtifact
from griptape_nodes.bootstrap.workflow_executors.local_workflow_executor import LocalWorkflowExecutor
from griptape_nodes.bootstrap.workflow_executors.workflow_executor import WorkflowExecutor
from griptape_nodes.drivers.storage.storage_backend import StorageBackend
from griptape_nodes.node_library.library_registry import IconVariant, NodeDeprecationMetadata, NodeMetadata
from griptape_nodes.retained_mode.events.connection_events import CreateConnectionRequest
from griptape_nodes.retained_mode.events.flow_events import CreateFlowRequest, GetTopLevelFlowRequest, GetTopLevelFlowResultSuccess
from griptape_nodes.retained_mode.events.library_events import LoadLibrariesRequest
from griptape_nodes.retained_mode.events.node_events import CreateNodeRequest
from griptape_nodes.retained_mode.events.parameter_events import AddParameterToNodeRequest, AlterParameterDetailsRequest, SetParameterValueRequest
from griptape_nodes.retained_mode.griptape_nodes import GriptapeNodes

GriptapeNodes.handle_request(LoadLibrariesRequest())

context_manager = GriptapeNodes.ContextManager()

if not context_manager.has_current_workflow():
    context_manager.push_workflow(workflow_name='Nano Banana - Image Collage')

"""
1. We've collated all of the unique parameter values into a dictionary so that we do not have to duplicate them.
   This minimizes the size of the code, especially for large objects like serialized image files.
2. We're using a prefix so that it's clear which Flow these values are associated with.
3. The values are serialized using pickle, which is a binary format. This makes them harder to read, but makes
   them consistently save and load. It allows us to serialize complex objects like custom classes, which otherwise
   would be difficult to serialize.
"""
top_level_unique_values_dict = {'55464b64-ebf0-4ed3-865c-f4a681fb3a4f': pickle.loads(b'\x80\x04\x95\x96\x00\x00\x00\x00\x00\x00\x00\x8c\x92https://images.pdimagearchive.org/collections/posed-portraits-of-19th-century-baseball-stars/4051199982_718521f59f_z.jpg?zz=1?width=438&height=800\x94.'), '3e3547c9-9e26-4981-8d98-548d09e473f7': pickle.loads(b'\x80\x04\x95\xc7\x00\x00\x00\x00\x00\x00\x00\x8c\xc3# Inputs\n\nProvide the url of a person from the [Public Domain Image Archive](https://pdimagearchive.org/galleries/all), or disconnect the input and upload an image yourself in the LoadImage node\n\x94.'), 'a763c4f7-04a2-40ff-98d0-ca06ff0d6c37': pickle.loads(b'\x80\x04\x95`\x00\x00\x00\x00\x00\x00\x00\x8c\\Use Nano Banana Pro to generate 4 unique images of this character in various urban settings.\x94.'), 'ce71ee2d-75b3-44a3-869b-b1e95231bf71': pickle.loads(b'\x80\x04\x88.'), 'c4a2fcbc-8def-41e2-9be7-0215bc11d7a8': pickle.loads(b'\x80\x04\x95R\x00\x00\x00\x00\x00\x00\x00\x8cN[SUCCEEDED] No connection provided for success or failure, assuming successful\x94.'), 'e74392dc-b563-41b1-81b5-cde37ad99c76': pickle.loads(b'\x80\x04\x95\x96\x01\x00\x00\x00\x00\x00\x00\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94\x8c\x10ImageUrlArtifact\x94\x8c\x0bmodule_name\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x02id\x94\x8c b151759914d6498795123ed7031c6d77\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94\x8c\x1fgoogle_image_1766024834_0_0.jpg\x94\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8cYhttp://localhost:8124/workspace/static_files/google_image_1766024834_0_0.jpg?t=1766024834\x94ub.'), '4254222e-20da-4514-8ea3-202acd1b4ba7': pickle.loads(b'\x80\x04\x95;\x01\x00\x00\x00\x00\x00\x00\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94h\x01\x8c\x0bmodule_name\x94h\x00\x8c\x02id\x94\x8c a4469f447b384d728344c1863ee19a58\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94h\x08\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8cUhttp://localhost:8124/workspace/static_files/4051199982_718521f59f_z.jpg?t=1766028965\x94ub.'), '9d2a2a5a-8d10-44ff-bfdf-a5c7b2762725': pickle.loads(b'\x80\x04\x95Y\x00\x00\x00\x00\x00\x00\x00\x8cUhttp://localhost:8124/workspace/static_files/4051199982_718521f59f_z.jpg?t=1766028965\x94.'), '8fdbcae9-7cd6-4d94-8ead-69682eed4fce': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x04none\x94.'), '04f8a39f-839a-4f40-9f07-e0900e8ab76f': pickle.loads(b'\x80\x04\x89.'), 'b82a7acd-0c52-43cc-97dc-94b4938c1fa7': pickle.loads(b'\x80\x04\x950\x00\x00\x00\x00\x00\x00\x00\x8c,<Results will appear when the node executes>\x94.'), '88cbda5e-6678-46ee-bd3a-d45fcd018a32': pickle.loads(b'\x80\x04\x95\x15\x00\x00\x00\x00\x00\x00\x00\x8c\x11nano-banana-3-pro\x94.'), '6d1f7c8c-ab2f-4b51-ab71-461684a35a7b': pickle.loads(b'\x80\x04\x95\xf6\x00\x00\x00\x00\x00\x00\x00\x8c\xf2A collage of 4 editorial-style glossy, high-end magazine photos of this vintage character in various modern urban settings. Each collage highlights a different unique confusing situation them. All other characters are modern, unique, and hip.\x94.'), '3e9d7092-caff-4f04-88fd-45ee85ac1502': pickle.loads(b'\x80\x04\x95b\x01\x00\x00\x00\x00\x00\x00]\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94h\x02\x8c\x0bmodule_name\x94h\x01\x8c\x02id\x94\x8c ebdcc8cf65ff4ff4898fdbec0e1dee1b\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94\x8c\x1fgoogle_image_1766029423_0_0.jpg\x94\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8cYhttp://localhost:8124/workspace/static_files/google_image_1766029423_0_0.jpg?t=1766029423\x94uba.'), '67834220-97c0-42d4-849a-f600fac2b829': pickle.loads(b'\x80\x04\x95_\x01\x00\x00\x00\x00\x00\x00\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94h\x01\x8c\x0bmodule_name\x94h\x00\x8c\x02id\x94\x8c ebdcc8cf65ff4ff4898fdbec0e1dee1b\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94\x8c\x1fgoogle_image_1766029423_0_0.jpg\x94\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8cYhttp://localhost:8124/workspace/static_files/google_image_1766029423_0_0.jpg?t=1766029423\x94ub.'), '8cfaaca7-2b49-4397-affa-cca5d384d8b7': pickle.loads(b'\x80\x04]\x94.'), '0fe8bbac-da5b-45f2-a09c-eef983c2c0af': pickle.loads(b'\x80\x04]\x94.'), 'd2beabfc-e162-4f7f-bde5-3780a018debb': pickle.loads(b'\x80\x04\x95\x07\x00\x00\x00\x00\x00\x00\x00\x8c\x031:1\x94.'), '0ce1855a-de73-4d52-ad00-7e95d4c9ae5a': pickle.loads(b'\x80\x04\x95\x06\x00\x00\x00\x00\x00\x00\x00\x8c\x022K\x94.'), 'ccb73083-316f-4108-95bc-fa99d66657b9': pickle.loads(b'\x80\x04\x95\n\x00\x00\x00\x00\x00\x00\x00G?\xf0\x00\x00\x00\x00\x00\x00.'), 'b12dc5b7-c3ff-454e-98d9-5ba4503a8bd9': pickle.loads(b'\x80\x04\x95_\x01\x00\x00\x00\x00\x00\x00\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94h\x01\x8c\x0bmodule_name\x94h\x00\x8c\x02id\x94\x8c ccbb2bde0c454dedb66b38956d36a026\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94\x8c\x1fgoogle_image_1766029518_0_0.jpg\x94\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8cYhttp://localhost:8124/workspace/static_files/google_image_1766029518_0_0.jpg?t=1766029518\x94ub.'), 'db14d61f-a550-4ba5-b93a-e2ee013af941': pickle.loads(b'\x80\x04\x95b\x01\x00\x00\x00\x00\x00\x00]\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94h\x02\x8c\x0bmodule_name\x94h\x01\x8c\x02id\x94\x8c ccbb2bde0c454dedb66b38956d36a026\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94\x8c\x1fgoogle_image_1766029518_0_0.jpg\x94\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8cYhttp://localhost:8124/workspace/static_files/google_image_1766029518_0_0.jpg?t=1766029518\x94uba.'), '45811abb-e300-498d-8902-c71602d42f20': pickle.loads(b'\x80\x04\x95\x04\x00\x00\x00\x00\x00\x00\x00\x8c\x00\x94.'), '4499ff80-96ab-497b-97eb-cbabd9af1cd8': pickle.loads(b'\x80\x04\x95I\x00\x00\x00\x00\x00\x00\x00\x8cEGoogle Nano Banana Image Generation_1 generated 1 image successfully.\x94.'), 'b84e09a7-8c72-4f04-ad2e-a251087b1ef0': pickle.loads(b'\x80\x04\x95h\x01\x00\x00\x00\x00\x00\x00\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94h\x01\x8c\x0bmodule_name\x94h\x00\x8c\x02id\x94\x8c 2137f701847b44cc9c2a8b5805b6d43d\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94h\x08\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8c\x82http://localhost:8124/workspace/static_files/Victoria_Claflin_Woodhull_by_Mathew_Brady_-_Oval_Portrait_-_Original.jpg?t=1766029249\x94ub.'), '0bb20d82-fa79-4ce4-bcbc-24cb73fb6747': pickle.loads(b'\x80\x04\x95\x86\x00\x00\x00\x00\x00\x00\x00\x8c\x82http://localhost:8124/workspace/static_files/Victoria_Claflin_Woodhull_by_Mathew_Brady_-_Oval_Portrait_-_Original.jpg?t=1766029249\x94.'), 'c86ebf5a-8f73-4db2-b200-c593295e2287': pickle.loads(b'\x80\x04\x95\xc0\x00\x00\x00\x00\x00\x00\x00\x8c\xbcSUCCESS: Image loaded successfully from image parameter (http://localhost:8124/workspace/static_files/Victoria_Claflin_Woodhull_by_Mathew_Brady_-_Oval_Portrait_-_Original.jpg?t=1766029249)\x94.'), '01b33876-45f1-4e8f-b86b-4fcefc1a4722': pickle.loads(b'\x80\x04\x95\x82\x00\x00\x00\x00\x00\x00\x00\x8c~3d high resolution render of this character in a T-pose. vintage textures, detailed clothing. Light background, soft shadows. \x94.'), '980d4a50-88fa-457e-9888-dce4782f3c4c': pickle.loads(b'\x80\x04\x95>\x01\x00\x00\x00\x00\x00\x00]\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94h\x02\x8c\x0bmodule_name\x94h\x01\x8c\x02id\x94\x8c a4469f447b384d728344c1863ee19a58\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94h\t\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8cUhttp://localhost:8124/workspace/static_files/4051199982_718521f59f_z.jpg?t=1766028965\x94uba.'), 'bc7c5e07-6dcb-43c0-80f1-9a0cc3d25705': pickle.loads(b'\x80\x04]\x94.'), '2fc196e9-7cd8-4053-a20a-10136c2825b4': pickle.loads(b'\x80\x04]\x94.'), 'f7fe313a-9f46-448d-b212-7444526f0022': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x0416:9\x94.'), 'ae83720e-fafd-4abb-b017-f13b2f193004': pickle.loads(b'\x80\x04\x95\x06\x00\x00\x00\x00\x00\x00\x00\x8c\x021K\x94.'), '1de87909-7a88-422b-8dd7-dfb10aeec2a4': pickle.loads(b'\x80\x04\x95b\x01\x00\x00\x00\x00\x00\x00]\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94h\x02\x8c\x0bmodule_name\x94h\x01\x8c\x02id\x94\x8c ebdcc8cf65ff4ff4898fdbec0e1dee1b\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94\x8c\x1fgoogle_image_1766029423_0_0.jpg\x94\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8cYhttp://localhost:8124/workspace/static_files/google_image_1766029423_0_0.jpg?t=1766029423\x94uba.'), '27ccf01c-d210-40a3-a464-a5f2018cb91e': pickle.loads(b'\x80\x04\x95F\x00\x00\x00\x00\x00\x00\x00\x8cBCreate a T-pose for this character to provide a base to work from.\x94.')}

'# Create the Flow, then do work within it as context.'

flow0_name = GriptapeNodes.handle_request(CreateFlowRequest(parent_flow_name=None, flow_name='ControlFlow_1', set_as_new_context=False, metadata={})).flow_name

with GriptapeNodes.ContextManager().flow(flow0_name):
    node0_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='StartFlow', specific_library_name='Griptape Nodes Library', node_name='Start Flow', metadata={'position': {'x': -1079.3184088273833, 'y': 166.3418546447166}, 'tempId': 'placing-1765996350930-qa8fpl', 'library_node_metadata': {'category': 'workflows', 'description': 'Define the start of a workflow and pass parameters into the flow'}, 'library': 'Griptape Nodes Library', 'node_type': 'StartFlow', 'showaddparameter': True, 'size': {'width': 603, 'height': 433}, 'category': 'workflows'}, resolution='resolved', initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node0_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='image_url', default_value='https://images.pdimagearchive.org/collections/posed-portraits-of-19th-century-baseball-stars/4051199982_718521f59f_z.jpg?zz=1?width=438&height=800', tooltip='Enter text/string for image_url.', type='str', input_types=['str'], output_type='str', ui_options={'is_custom': True, 'is_user_added': True}, mode_allowed_input=False, mode_allowed_property=True, mode_allowed_output=True, initial_setup=True))
    node1_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Note_1', metadata={'position': {'x': -1079.3184088273833, 'y': -108.15814535528341}, 'tempId': 'placing-1766003334530-pnkgh', 'library_node_metadata': {'category': 'misc', 'description': 'Create a note node to provide helpful context in your workflow'}, 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 1365, 'height': 242}, 'category': 'misc'}, initial_setup=True)).node_name
    node2_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Note_3', metadata={'position': {'x': 1540.8648249583189, 'y': -150.79139593311052}, 'tempId': 'placing-1766003370124-fo9hq', 'library_node_metadata': {'category': 'misc', 'description': 'Create a note node to provide helpful context in your workflow'}, 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 163}, 'category': 'misc'}, initial_setup=True)).node_name
    node3_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='EndFlow', specific_library_name='Griptape Nodes Library', node_name='End Flow', metadata={'library_node_metadata': {'category': 'workflows', 'description': 'Define the end of a workflow and return parameters from the flow'}, 'library': 'Griptape Nodes Library', 'node_type': 'EndFlow', 'showaddparameter': True, 'position': {'x': 2622.259337156614, 'y': 41.932604016268364}, 'size': {'width': 945, 'height': 1244}, 'category': 'workflows'}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node3_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='image', default_value='', tooltip='New parameter', type='ImageUrlArtifact', input_types=['ImageUrlArtifact'], output_type='ImageUrlArtifact', ui_options={'is_full_width': True, 'pulse_on_run': True, 'is_custom': True, 'is_user_added': True}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=True, parent_container_name='', initial_setup=True))
    node4_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='LoadImage', specific_library_name='Griptape Nodes Library', node_name='Load Image', metadata={'position': {'x': -301.54605570025205, 'y': 166.3418546447166}, 'tempId': 'placing-1766027122379-tyn6li', 'library_node_metadata': {'category': 'image', 'description': 'Loads an image from disk'}, 'library': 'Griptape Nodes Library', 'node_type': 'LoadImage', 'showaddparameter': False, 'size': {'width': 600, 'height': 540}, 'category': 'image'}, resolution='resolved', initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node4_name):
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='image', settable=False, initial_setup=True))
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='path', settable=False, initial_setup=True))
    node5_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='GoogleImageGeneration', specific_library_name='Griptape Nodes Library', node_name='Google Nano Banana Image Generation_1', metadata={'position': {'x': 1532.8648249583189, 'y': 66.26237627277638}, 'tempId': 'placing-1766027268710-0rmuzc', 'library_node_metadata': {'category': 'image', 'description': 'Generate images using Google models via Griptape model proxy'}, 'library': 'Griptape Nodes Library', 'node_type': 'GoogleImageGeneration', 'showaddparameter': False, 'size': {'width': 616, 'height': 1311}, 'category': 'image'}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node5_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_images_ParameterListUniqueParamID_e9c8b8213dee49aea0e7c4fd9be6c1a6', default_value=[], tooltip='Optional reference images for the generation', type='ImageUrlArtifact', input_types=['ImageUrlArtifact', 'ImageArtifact'], output_type='ImageUrlArtifact', ui_options={'display_name': 'Input Images', 'expander': True}, mode_allowed_input=True, mode_allowed_property=False, mode_allowed_output=False, is_user_defined=True, settable=True, parent_container_name='input_images', initial_setup=True))
    node6_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='LoadImage', specific_library_name='Griptape Nodes Library', node_name='Load Image_1', metadata={'position': {'x': -356.06593649052553, 'y': 765.7745844479933}, 'tempId': 'placing-1766027122379-tyn6li', 'library_node_metadata': {'category': 'image', 'description': 'Loads an image from disk'}, 'library': 'Griptape Nodes Library', 'node_type': 'LoadImage', 'showaddparameter': False, 'size': {'width': 600, 'height': 540}, 'category': 'image'}, resolution='resolved', initial_setup=True)).node_name
    node7_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='GoogleImageGeneration', specific_library_name='Griptape Nodes Library', node_name='Google Nano Banana Image Generation', metadata={'position': {'x': 713.2006580008815, 'y': 66.26237627277638}, 'tempId': 'placing-1766029338943-yu3116', 'library_node_metadata': {'category': 'image', 'description': 'Generate images using Google models via Griptape model proxy'}, 'library': 'Griptape Nodes Library', 'node_type': 'GoogleImageGeneration', 'showaddparameter': False, 'size': {'width': 600, 'height': 1056}, 'category': 'image'}, resolution='resolved', initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node7_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_images_ParameterListUniqueParamID_69cdc7cef7d643cca9815855e9bd13a0', default_value=[], tooltip='Optional reference images for the generation', type='ImageUrlArtifact', input_types=['ImageUrlArtifact', 'ImageArtifact'], output_type='ImageUrlArtifact', ui_options={'display_name': 'Input Images', 'expander': True}, mode_allowed_input=True, mode_allowed_property=False, mode_allowed_output=False, is_user_defined=True, settable=True, parent_container_name='input_images', initial_setup=True))
    node8_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Note', metadata={'position': {'x': 713.2006580008815, 'y': -165.29139593311052}, 'tempId': 'placing-1766029587785-4avcqn', 'library_node_metadata': {'category': 'misc', 'description': 'Create a note node to provide helpful context in your workflow'}, 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 192}, 'category': 'misc'}, initial_setup=True)).node_name
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node5_name, source_parameter_name='image', target_node_name=node3_name, target_parameter_name='image', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node0_name, source_parameter_name='image_url', target_node_name=node4_name, target_parameter_name='image', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node4_name, source_parameter_name='image', target_node_name=node7_name, target_parameter_name='input_images_ParameterListUniqueParamID_69cdc7cef7d643cca9815855e9bd13a0', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node7_name, source_parameter_name='image', target_node_name=node5_name, target_parameter_name='input_images_ParameterListUniqueParamID_e9c8b8213dee49aea0e7c4fd9be6c1a6', initial_setup=True))
    with GriptapeNodes.ContextManager().node(node0_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image_url', node_name=node0_name, value=top_level_unique_values_dict['55464b64-ebf0-4ed3-865c-f4a681fb3a4f'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node1_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node1_name, value=top_level_unique_values_dict['3e3547c9-9e26-4981-8d98-548d09e473f7'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node2_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node2_name, value=top_level_unique_values_dict['a763c4f7-04a2-40ff-98d0-ca06ff0d6c37'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node3_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node3_name, value=top_level_unique_values_dict['ce71ee2d-75b3-44a3-869b-b1e95231bf71'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node3_name, value=top_level_unique_values_dict['ce71ee2d-75b3-44a3-869b-b1e95231bf71'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node3_name, value=top_level_unique_values_dict['c4a2fcbc-8def-41e2-9be7-0215bc11d7a8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node3_name, value=top_level_unique_values_dict['c4a2fcbc-8def-41e2-9be7-0215bc11d7a8'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node3_name, value=top_level_unique_values_dict['e74392dc-b563-41b1-81b5-cde37ad99c76'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node4_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node4_name, value=top_level_unique_values_dict['4254222e-20da-4514-8ea3-202acd1b4ba7'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node4_name, value=top_level_unique_values_dict['4254222e-20da-4514-8ea3-202acd1b4ba7'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='path', node_name=node4_name, value=top_level_unique_values_dict['9d2a2a5a-8d10-44ff-bfdf-a5c7b2762725'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='path', node_name=node4_name, value=top_level_unique_values_dict['9d2a2a5a-8d10-44ff-bfdf-a5c7b2762725'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='mask_channel', node_name=node4_name, value=top_level_unique_values_dict['8fdbcae9-7cd6-4d94-8ead-69682eed4fce'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node4_name, value=top_level_unique_values_dict['04f8a39f-839a-4f40-9f07-e0900e8ab76f'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node4_name, value=top_level_unique_values_dict['04f8a39f-839a-4f40-9f07-e0900e8ab76f'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node4_name, value=top_level_unique_values_dict['b82a7acd-0c52-43cc-97dc-94b4938c1fa7'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node4_name, value=top_level_unique_values_dict['b82a7acd-0c52-43cc-97dc-94b4938c1fa7'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node5_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='model', node_name=node5_name, value=top_level_unique_values_dict['88cbda5e-6678-46ee-bd3a-d45fcd018a32'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='prompt', node_name=node5_name, value=top_level_unique_values_dict['6d1f7c8c-ab2f-4b51-ab71-461684a35a7b'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images', node_name=node5_name, value=top_level_unique_values_dict['3e9d7092-caff-4f04-88fd-45ee85ac1502'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images_ParameterListUniqueParamID_e9c8b8213dee49aea0e7c4fd9be6c1a6', node_name=node5_name, value=top_level_unique_values_dict['67834220-97c0-42d4-849a-f600fac2b829'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='object_images', node_name=node5_name, value=top_level_unique_values_dict['8cfaaca7-2b49-4397-affa-cca5d384d8b7'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='human_images', node_name=node5_name, value=top_level_unique_values_dict['0fe8bbac-da5b-45f2-a09c-eef983c2c0af'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='auto_image_resize', node_name=node5_name, value=top_level_unique_values_dict['ce71ee2d-75b3-44a3-869b-b1e95231bf71'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='aspect_ratio', node_name=node5_name, value=top_level_unique_values_dict['d2beabfc-e162-4f7f-bde5-3780a018debb'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image_size', node_name=node5_name, value=top_level_unique_values_dict['0ce1855a-de73-4d52-ad00-7e95d4c9ae5a'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='temperature', node_name=node5_name, value=top_level_unique_values_dict['ccb73083-316f-4108-95bc-fa99d66657b9'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='use_google_search', node_name=node5_name, value=top_level_unique_values_dict['ce71ee2d-75b3-44a3-869b-b1e95231bf71'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node5_name, value=top_level_unique_values_dict['b12dc5b7-c3ff-454e-98d9-5ba4503a8bd9'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='all_images', node_name=node5_name, value=top_level_unique_values_dict['db14d61f-a550-4ba5-b93a-e2ee013af941'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='text', node_name=node5_name, value=top_level_unique_values_dict['45811abb-e300-498d-8902-c71602d42f20'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node5_name, value=top_level_unique_values_dict['ce71ee2d-75b3-44a3-869b-b1e95231bf71'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node5_name, value=top_level_unique_values_dict['ce71ee2d-75b3-44a3-869b-b1e95231bf71'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node5_name, value=top_level_unique_values_dict['4499ff80-96ab-497b-97eb-cbabd9af1cd8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node5_name, value=top_level_unique_values_dict['4499ff80-96ab-497b-97eb-cbabd9af1cd8'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node6_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node6_name, value=top_level_unique_values_dict['b84e09a7-8c72-4f04-ad2e-a251087b1ef0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node6_name, value=top_level_unique_values_dict['b84e09a7-8c72-4f04-ad2e-a251087b1ef0'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='path', node_name=node6_name, value=top_level_unique_values_dict['0bb20d82-fa79-4ce4-bcbc-24cb73fb6747'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='path', node_name=node6_name, value=top_level_unique_values_dict['0bb20d82-fa79-4ce4-bcbc-24cb73fb6747'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='mask_channel', node_name=node6_name, value=top_level_unique_values_dict['8fdbcae9-7cd6-4d94-8ead-69682eed4fce'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node6_name, value=top_level_unique_values_dict['ce71ee2d-75b3-44a3-869b-b1e95231bf71'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node6_name, value=top_level_unique_values_dict['ce71ee2d-75b3-44a3-869b-b1e95231bf71'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node6_name, value=top_level_unique_values_dict['c86ebf5a-8f73-4db2-b200-c593295e2287'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node6_name, value=top_level_unique_values_dict['c86ebf5a-8f73-4db2-b200-c593295e2287'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node7_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='model', node_name=node7_name, value=top_level_unique_values_dict['88cbda5e-6678-46ee-bd3a-d45fcd018a32'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='prompt', node_name=node7_name, value=top_level_unique_values_dict['01b33876-45f1-4e8f-b86b-4fcefc1a4722'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images', node_name=node7_name, value=top_level_unique_values_dict['980d4a50-88fa-457e-9888-dce4782f3c4c'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images_ParameterListUniqueParamID_69cdc7cef7d643cca9815855e9bd13a0', node_name=node7_name, value=top_level_unique_values_dict['4254222e-20da-4514-8ea3-202acd1b4ba7'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='object_images', node_name=node7_name, value=top_level_unique_values_dict['bc7c5e07-6dcb-43c0-80f1-9a0cc3d25705'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='human_images', node_name=node7_name, value=top_level_unique_values_dict['2fc196e9-7cd8-4053-a20a-10136c2825b4'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='auto_image_resize', node_name=node7_name, value=top_level_unique_values_dict['ce71ee2d-75b3-44a3-869b-b1e95231bf71'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='aspect_ratio', node_name=node7_name, value=top_level_unique_values_dict['f7fe313a-9f46-448d-b212-7444526f0022'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image_size', node_name=node7_name, value=top_level_unique_values_dict['ae83720e-fafd-4abb-b017-f13b2f193004'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='temperature', node_name=node7_name, value=top_level_unique_values_dict['ccb73083-316f-4108-95bc-fa99d66657b9'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='use_google_search', node_name=node7_name, value=top_level_unique_values_dict['04f8a39f-839a-4f40-9f07-e0900e8ab76f'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node7_name, value=top_level_unique_values_dict['67834220-97c0-42d4-849a-f600fac2b829'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='all_images', node_name=node7_name, value=top_level_unique_values_dict['1de87909-7a88-422b-8dd7-dfb10aeec2a4'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='text', node_name=node7_name, value=top_level_unique_values_dict['45811abb-e300-498d-8902-c71602d42f20'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node7_name, value=top_level_unique_values_dict['04f8a39f-839a-4f40-9f07-e0900e8ab76f'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node7_name, value=top_level_unique_values_dict['04f8a39f-839a-4f40-9f07-e0900e8ab76f'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node7_name, value=top_level_unique_values_dict['b82a7acd-0c52-43cc-97dc-94b4938c1fa7'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node7_name, value=top_level_unique_values_dict['b82a7acd-0c52-43cc-97dc-94b4938c1fa7'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node8_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node8_name, value=top_level_unique_values_dict['27ccf01c-d210-40a3-a464-a5f2018cb91e'], initial_setup=True, is_output=False))

def _ensure_workflow_context():
    context_manager = GriptapeNodes.ContextManager()
    if not context_manager.has_current_flow():
        top_level_flow_request = GetTopLevelFlowRequest()
        top_level_flow_result = GriptapeNodes.handle_request(top_level_flow_request)
        if isinstance(top_level_flow_result, GetTopLevelFlowResultSuccess) and top_level_flow_result.flow_name is not None:
            flow_manager = GriptapeNodes.FlowManager()
            flow_obj = flow_manager.get_flow_by_name(top_level_flow_result.flow_name)
            context_manager.push_flow(flow_obj)

def execute_workflow(input: dict, storage_backend: str='local', workflow_executor: WorkflowExecutor | None=None, pickle_control_flow_result: bool=False) -> dict | None:
    return asyncio.run(aexecute_workflow(input=input, storage_backend=storage_backend, workflow_executor=workflow_executor, pickle_control_flow_result=pickle_control_flow_result))

async def aexecute_workflow(input: dict, storage_backend: str='local', workflow_executor: WorkflowExecutor | None=None, pickle_control_flow_result: bool=False) -> dict | None:
    _ensure_workflow_context()
    storage_backend_enum = StorageBackend(storage_backend)
    workflow_executor = workflow_executor or LocalWorkflowExecutor(storage_backend=storage_backend_enum)
    async with workflow_executor as executor:
        await executor.arun(flow_input=input, pickle_control_flow_result=pickle_control_flow_result)
    return executor.output

if __name__ == '__main__':
    parser = argparse.ArgumentParser()
    parser.add_argument('--storage-backend', choices=['local', 'gtc'], default='local', help="Storage backend to use: 'local' for local filesystem or 'gtc' for Griptape Cloud")
    parser.add_argument('--json-input', default=None, help='JSON string containing parameter values. Takes precedence over individual parameter arguments if provided.')
    parser.add_argument('--exec_out', default=None, help='Connection to the next node in the execution chain')
    parser.add_argument('--image_url', default=None, help='Enter text/string for image_url.')
    args = parser.parse_args()
    flow_input = {}
    if args.json_input is not None:
        flow_input = json.loads(args.json_input)
    if args.json_input is None:
        if 'Start Flow' not in flow_input:
            flow_input['Start Flow'] = {}
        if args.exec_out is not None:
            flow_input['Start Flow']['exec_out'] = args.exec_out
        if args.image_url is not None:
            flow_input['Start Flow']['image_url'] = args.image_url
    workflow_output = execute_workflow(input=flow_input, storage_backend=args.storage_backend)
    print(workflow_output)
